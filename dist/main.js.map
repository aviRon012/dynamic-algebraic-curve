{
  "version": 3,
  "sources": ["..\\src\\js\\Vector.js", "..\\src\\js\\Params.js", "..\\src\\js\\Particle.js", "..\\src\\js\\Solver.js", "..\\src\\js\\Renderer.js", "..\\src\\js\\Simulation.js", "..\\src\\js\\AlgebraicCurve.js"],
  "sourcesContent": [
    "/**\n * A lightweight 2D Vector class for physics calculations.\n * Supports chainable operations for efficiency.\n */\nexport class Vector {\n    /**\n     * @param {number} x - The x component.\n     * @param {number} y - The y component.\n     */\n    constructor(x, y) { this.x = x; this.y = y; }\n\n    /**\n     * Sets the vector components.\n     * @param {number} x \n     * @param {number} y \n     * @returns {Vector} this\n     */\n    set(x, y) { this.x = x; this.y = y; return this; }\n\n    /**\n     * Copies components from another vector.\n     * @param {Vector} v \n     * @returns {Vector} this\n     */\n    setVec(v) { this.x = v.x; this.y = v.y; return this; }\n\n    /**\n     * Adds another vector to this one.\n     * @param {Vector} v \n     * @returns {Vector} this\n     */\n    add(v) { this.x += v.x; this.y += v.y; return this; }\n\n    /**\n     * Subtracts another vector from this one.\n     * @param {Vector} v \n     * @returns {Vector} this\n     */\n    sub(v) { this.x -= v.x; this.y -= v.y; return this; }\n\n    /**\n     * Multiplies the vector by a scalar.\n     * @param {number} n \n     * @returns {Vector} this\n     */\n    mult(n) { this.x *= n; this.y *= n; return this; }\n\n    /**\n     * Divides the vector by a scalar.\n     * @param {number} n \n     * @returns {Vector} this\n     */\n    div(n) { if (n !== 0) { this.x /= n; this.y /= n; } return this; }\n\n    /**\n     * Calculates the squared magnitude of the vector.\n     * Faster than mag() as it avoids Math.sqrt().\n     * @returns {number}\n     */\n    magSq() { return this.x * this.x + this.y * this.y; }\n\n    /**\n     * Calculates the magnitude (length) of the vector.\n     * @returns {number}\n     */\n    mag() { return Math.sqrt(this.x * this.x + this.y * this.y); }\n\n    /**\n     * Normalizes the vector to unit length (1).\n     * @returns {Vector} this\n     */\n    normalize() { let m = this.mag(); if (m > 0) this.div(m); return this; }\n\n    /**\n     * Limits the magnitude of the vector to a maximum value.\n     * @param {number} max \n     * @returns {Vector} this\n     */\n    limit(max) { \n        let mSq = this.magSq();\n        if (mSq > max * max) { \n            this.div(Math.sqrt(mSq)); // Normalize manual to avoid re-calculating magSq\n            this.mult(max); \n        } \n        return this; \n    }\n\n    /**\n     * Calculates the Euclidean distance between two vectors.\n     * @param {Vector} v1 \n     * @param {Vector} v2 \n     * @returns {number}\n     */\n    static dist(v1, v2) { let dx = v1.x - v2.x; let dy = v1.y - v2.y; return Math.sqrt(dx * dx + dy * dy); }\n\n    /**\n     * Calculates the squared Euclidean distance between two vectors.\n     * @param {Vector} v1 \n     * @param {Vector} v2 \n     * @returns {number}\n     */\n    static distSq(v1, v2) { let dx = v1.x - v2.x; let dy = v1.y - v2.y; return dx * dx + dy * dy; }\n\n    /**\n     * Returns a new Vector that is the difference (v1 - v2).\n     * @param {Vector} v1 \n     * @param {Vector} v2 \n     * @returns {Vector}\n     */\n    static sub(v1, v2) { return new Vector(v1.x - v2.x, v1.y - v2.y); }\n\n    /**\n     * Creates a copy of this vector.\n     * @returns {Vector}\n     */\n    copy() { return new Vector(this.x, this.y); }\n}",
    "/**\n * Constants and shared configuration for the simulation.\n */\n\n// --- SCALING FACTORS ---\nexport const K_DIST = 0.22;\nexport const K_SPEED = 0.0055;\nexport const K_FORCE = 0.06;\nexport const VIEW_SCALE_FACTOR = 2.5;\n\n// --- VISUALS ---\nexport const POINT_RADIUS = 6;\nexport const COLOR_POS = [30/255, 41/255, 59/255, 1.0]; \nexport const COLOR_NEG = [15/255, 23/255, 42/255, 1.0];\nexport const COLOR_LINE = [45/255, 212/255, 191/255, 1.0];\nexport const POINT_COLOR = '#fbbf24';\n\n// --- PHYSICS BEHAVIORS ---\nexport const WANDER_STRENGTH = 0.1;\nexport const WANDER_RANGE = 0.3;\nexport const WANDER_RADIUS = 25;\nexport const WANDER_DISTANCE = 80;\nexport const EDGE_MARGIN = 50;\n\n// --- FORCE WEIGHTS ---\nexport const WEIGHT_SEPARATION = 1.5;\nexport const WEIGHT_WANDER = 1.0;\nexport const WEIGHT_BOUNDARIES = 2.0;\n\n// --- SHARED STATE ---\n/**\n * Mutable state object shared across modules (though primarily managed by Simulation/UIManager).\n * @property {number} minDistance - Dynamic minimum separation distance.\n * @property {number} maxSpeed - Dynamic maximum particle speed.\n * @property {number} maxForce - Dynamic maximum steering force.\n * @property {number} scale - Current viewport scale for solver normalization.\n * @property {boolean} isPaused - Simulation pause state.\n * @property {boolean} showCurve - Curve visibility state.\n */\nexport const params = {\n    minDistance: 100,\n    maxSpeed: 2.5,\n    maxForce: 0.15,\n    scale: 1,\n    isPaused: false,\n    viewMode: 0 // 0: Both, 1: Curve Only, 2: Particles Only\n};\n",
    "import { Vector } from './Vector.js';\nimport { \n    POINT_RADIUS, POINT_COLOR,\n    WANDER_RANGE, WANDER_RADIUS, WANDER_DISTANCE,\n    EDGE_MARGIN,\n    WEIGHT_SEPARATION, WEIGHT_WANDER, WEIGHT_BOUNDARIES\n} from './Params.js';\n\n/**\n * Represents a single autonomous agent in the simulation.\n * Implements Reynolds-style steering behaviors (Separation, Wander, Bounds).\n */\nexport class Particle {\n    /**\n     * @param {number} x - Initial X position.\n     * @param {number} y - Initial Y position.\n     */\n    constructor(x, y) {\n        this.pos = new Vector(x, y);\n        this.vel = new Vector(Math.random() * 2 - 1, Math.random() * 2 - 1);\n        this.acc = new Vector(0, 0);\n        this.wanderTheta = Math.random() * Math.PI * 2;\n        \n        // Reusable vectors for GC optimization\n        this._steer = new Vector(0, 0);\n        this._diff = new Vector(0, 0);\n        this._circleCenter = new Vector(0, 0);\n        this._displacement = new Vector(0, 0);\n    }\n\n    /**\n     * Applies a force vector to the particle's acceleration.\n     * @param {Vector} force \n     */\n    applyForce(force) { this.acc.add(force); }\n\n    /**\n     * Calculates a steering force to maintain distance from other particles.\n     * @param {Particle[]} particles - List of all particles.\n     * @param {Object} params - Physics parameters (minDistance, maxSpeed, maxForce).\n     * @returns {Vector} The separation steering force.\n     */\n    separate(particles, params) {\n        let desiredseparationSq = params.minDistance * params.minDistance;\n        this._steer.set(0, 0);\n        let count = 0;\n        for (let other of particles) {\n            let dSq = Vector.distSq(this.pos, other.pos);\n            if ((other !== this) && (dSq < desiredseparationSq) && (dSq > 0)) {\n                let d = Math.sqrt(dSq);\n                this._diff.setVec(this.pos).sub(other.pos);\n                this._diff.normalize();\n                this._diff.div(d);\n                this._steer.add(this._diff);\n                count++;\n            }\n        }\n        if (count > 0) {\n            this._steer.div(count);\n            this._steer.normalize();\n            this._steer.mult(params.maxSpeed);\n            this._steer.sub(this.vel);\n            this._steer.limit(params.maxForce * WEIGHT_SEPARATION); \n        }\n        return this._steer;\n    }\n\n    /**\n     * Calculates a random steering force to create natural \"wandering\" motion.\n     * @param {Object} params - Physics parameters.\n     * @returns {Vector} The wander steering force.\n     */\n    wander(params) {\n        this.wanderTheta += (Math.random() * 2 - 1) * WANDER_RANGE;\n        \n        this._circleCenter.setVec(this.vel);\n        this._circleCenter.normalize();\n        this._circleCenter.mult(WANDER_DISTANCE);\n        \n        this._displacement.set(0, -1);\n        this._displacement.mult(WANDER_RADIUS);\n        \n        let h = this.wanderTheta;\n        let x = this._displacement.x;\n        let y = this._displacement.y;\n        // Rotate displacement\n        this._displacement.x = x * Math.cos(h) - y * Math.sin(h);\n        this._displacement.y = x * Math.sin(h) + y * Math.cos(h);\n        \n        let target = this._circleCenter.add(this._displacement);\n        target.limit(params.maxForce);\n        return target;\n    }\n\n    /**\n     * Calculates a steering force to keep the particle within the canvas bounds.\n     * @param {number} width - Canvas width.\n     * @param {number} height - Canvas height.\n     * @param {Object} params - Physics parameters.\n     * @returns {Vector} The boundary steering force.\n     */\n    edges(width, height, params) {\n        let steer = this._diff; // Reuse vector\n        steer.set(0, 0);\n        \n        if (this.pos.x < EDGE_MARGIN) steer.x = params.maxSpeed;\n        if (this.pos.x > width - EDGE_MARGIN) steer.x = -params.maxSpeed;\n        if (this.pos.y < EDGE_MARGIN) steer.y = params.maxSpeed;\n        if (this.pos.y > height - EDGE_MARGIN) steer.y = -params.maxSpeed;\n        \n        if (steer.mag() > 0) {\n            steer.normalize();\n            steer.mult(params.maxSpeed);\n            steer.sub(this.vel);\n            steer.limit(params.maxForce * WEIGHT_BOUNDARIES);\n        }\n        return steer;\n    }\n\n    /**\n     * Updates the particle's position and velocity based on behaviors.\n     * @param {Particle[]} particles \n     * @param {number} width \n     * @param {number} height \n     * @param {Object} params \n     */\n    update(particles, width, height, params) {\n        let sep = this.separate(particles, params);\n        let wan = this.wander(params);\n        let bnd = this.edges(width, height, params);\n        \n        sep.mult(WEIGHT_SEPARATION);\n        wan.mult(WEIGHT_WANDER);\n        bnd.mult(WEIGHT_BOUNDARIES);\n        \n        this.applyForce(sep);\n        this.applyForce(wan);\n        this.applyForce(bnd);\n        \n        this.vel.add(this.acc);\n        this.vel.limit(params.maxSpeed);\n        this.pos.add(this.vel);\n        this.acc.mult(0);\n    }\n\n    /**\n     * Draws the particle on the 2D canvas.\n     * @param {CanvasRenderingContext2D} ctx \n     */\n    draw(ctx) {\n        ctx.beginPath();\n        ctx.arc(this.pos.x, this.pos.y, POINT_RADIUS, 0, Math.PI * 2);\n        ctx.fillStyle = POINT_COLOR;\n        ctx.fill();\n        ctx.strokeStyle = 'white';\n        ctx.lineWidth = 1;\n        ctx.stroke();\n    }\n}\n",
    "/**\r\n * Solves for the coefficients of an implicit algebraic curve passing through a set of points.\r\n * Uses Gaussian Elimination with Partial Pivoting.\r\n */\r\nexport class Solver {\r\n    /**\r\n     * @param {number} degree - The degree of the curve (e.g., 2 for Conic, 3 for Cubic).\r\n     */\r\n    constructor(degree) {\r\n        this.degree = degree;\r\n        this.terms = this.generateTerms(degree);\r\n        this.termCount = this.terms.length;\r\n        this.pointCount = this.termCount - 1; // Need T-1 points to solve (1 degree of freedom for scale)\r\n\r\n        this.prevCoeffs = null;\r\n        \r\n        // Matrix: pointCount rows, termCount cols\r\n        // We reuse these arrays to avoid garbage collection\r\n        this.matrix = [];\r\n        for (let i = 0; i < this.pointCount; i++) {\r\n            this.matrix.push(new Float64Array(this.termCount));\r\n        }\r\n        this.coeffsBuffer = new Float64Array(this.termCount);\r\n\r\n        this.width = 1;\r\n        this.height = 1;\r\n        this.cx = 0.5;\r\n        this.cy = 0.5;\r\n        this.scale = 1;\r\n    }\r\n\r\n    /**\r\n     * Updates the internal dimensions used for normalizing point coordinates.\r\n     * @param {number} width \r\n     * @param {number} height \r\n     * @param {number} scale \r\n     */\r\n    resize(width, height, scale) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.cx = width / 2;\r\n        this.cy = height / 2;\r\n        this.scale = scale;\r\n    }\r\n\r\n    /**\r\n     * Generates the list of polynomial terms (powers of x and y).\r\n     * @param {number} degree \r\n     * @returns {Object[]} Array of {x: power, y: power} objects.\r\n     */\r\n    generateTerms(degree) {\r\n        let terms = [];\r\n        for (let d = degree; d >= 0; d--) {\r\n            for (let x = d; x >= 0; x--) {\r\n                let y = d - x;\r\n                terms.push({x, y});\r\n            }\r\n        }\r\n        return terms;\r\n    }\r\n\r\n    /**\r\n     * Solves the system of linear equations to find the curve coefficients.\r\n     * @param {Particle[]} particles \r\n     * @returns {Float32Array|null} The normalized coefficients, or previous frame's if singular.\r\n     */\r\n    solve(particles) {\r\n        if (particles.length !== this.pointCount) return null;\r\n\r\n        // 1. Fill Matrix\r\n        const xPowers = new Float64Array(this.degree + 1);\r\n        const yPowers = new Float64Array(this.degree + 1);\r\n        xPowers[0] = 1.0;\r\n        yPowers[0] = 1.0;\r\n\r\n        for (let i = 0; i < this.pointCount; i++) {\r\n            let p = particles[i];\r\n            let nx = (p.pos.x - this.cx) / this.scale;\r\n            let ny = (p.pos.y - this.cy) / this.scale;\r\n            \r\n            // Pre-calculate powers for this particle\r\n            for (let k = 1; k <= this.degree; k++) {\r\n                xPowers[k] = xPowers[k-1] * nx;\r\n                yPowers[k] = yPowers[k-1] * ny;\r\n            }\r\n\r\n            let row = this.matrix[i];\r\n            for (let j = 0; j < this.termCount; j++) {\r\n                let t = this.terms[j];\r\n                row[j] = xPowers[t.x] * yPowers[t.y];\r\n            }\r\n        }\r\n\r\n        // 2. Gaussian Elimination with Partial Pivoting\r\n        const nRows = this.pointCount;\r\n        const nCols = this.termCount;\r\n        let lead = 0;\r\n        \r\n        for (let r = 0; r < nRows; r++) {\r\n            if (nCols <= lead) break;\r\n            \r\n            // Partial Pivoting: Find max value in column to minimize error\r\n            let maxRow = r;\r\n            let maxVal = Math.abs(this.matrix[r][lead]);\r\n            \r\n            for (let i = r + 1; i < nRows; i++) {\r\n                let currVal = Math.abs(this.matrix[i][lead]);\r\n                if (currVal > maxVal) {\r\n                    maxVal = currVal;\r\n                    maxRow = i;\r\n                }\r\n            }\r\n\r\n            // Singularity Check (Relative Epsilon)\r\n            const EPSILON = 1e-10;\r\n            const pivotScale = Math.max(1.0, maxVal);\r\n            \r\n            if (maxVal < EPSILON * pivotScale) {\r\n                lead++;\r\n                r--; // Retry this row with next column\r\n                continue;\r\n            }\r\n\r\n            // Swap rows\r\n            let temp = this.matrix[r];\r\n            this.matrix[r] = this.matrix[maxRow];\r\n            this.matrix[maxRow] = temp;\r\n            \r\n            // Normalize Pivot Row\r\n            let val = this.matrix[r][lead];\r\n            for (let j = 0; j < nCols; j++) this.matrix[r][j] /= val;\r\n            \r\n            // Eliminate other rows\r\n            for (let k = 0; k < nRows; k++) {\r\n                if (k === r) continue;\r\n                val = this.matrix[k][lead];\r\n                for (let j = 0; j < nCols; j++) this.matrix[k][j] -= val * this.matrix[r][j];\r\n            }\r\n            lead++;\r\n        }\r\n\r\n        // 3. Extract Coefficients\r\n        // The last column (constant/lowest term) corresponds to the '1' in the solution vector space\r\n        this.coeffsBuffer[nCols - 1] = 1; \r\n        for (let i = nRows - 1; i >= 0; i--) {\r\n            this.coeffsBuffer[i] = -this.matrix[i][nCols - 1]; \r\n        }\r\n\r\n        // 4. Normalize Vector (for consistent gradient rendering)\r\n        let mag = 0;\r\n        for(let c of this.coeffsBuffer) mag += c*c;\r\n        mag = Math.sqrt(mag);\r\n        for(let i=0; i < nCols; i++) this.coeffsBuffer[i] /= mag;\r\n\r\n        // 5. Consistency Check (prevent sign flipping between frames)\r\n        if (this.prevCoeffs) {\r\n            let dot = 0;\r\n            for(let i=0; i < nCols; i++) dot += this.coeffsBuffer[i] * this.prevCoeffs[i];\r\n            if (dot < 0) {\r\n                for(let i=0; i < nCols; i++) this.coeffsBuffer[i] *= -1;\r\n            }\r\n        }\r\n\r\n        // Save for next frame\r\n        if (!this.prevCoeffs) {\r\n            this.prevCoeffs = new Float32Array(nCols);\r\n        }\r\n        for(let i=0; i < nCols; i++) this.prevCoeffs[i] = this.coeffsBuffer[i];\r\n\r\n        return this.prevCoeffs;\r\n    }\r\n}",
    "import { COLOR_POS, COLOR_NEG, COLOR_LINE } from './Params.js';\nimport shaderCode from './shaders/curve.wgsl';\n\nexport class Renderer {\n    constructor(canvas, degree) {\n        this.canvas = canvas;\n        this.degree = degree;\n        \n        this.adapter = null;\n        this.device = null;\n        this.context = null;\n        this.pipeline = null;\n        this.uniformBuffer = null;\n        this.bindGroup = null;\n        \n        this.width = canvas.width;\n        this.height = canvas.height;\n        this.scale = 1;\n        \n        // Uniform Data: Colors(12) + Res(2) + Scale(1) + Pad(1) + Coeffs(128)\n        this.uniformData = new Float32Array(144);\n        \n        this.setUniformColor(0, COLOR_POS);\n        this.setUniformColor(4, COLOR_NEG);\n        this.setUniformColor(8, COLOR_LINE);\n        \n        this.isReady = false;\n        this.init();\n    }\n\n    setUniformColor(offset, colorArray) {\n        this.uniformData.set(colorArray, offset);\n    }\n\n    async init() {\n        if (!navigator.gpu) {\n            console.error(\"WebGPU not supported in this browser.\");\n            return;\n        }\n\n        this.adapter = await navigator.gpu.requestAdapter();\n        if (!this.adapter) {\n            console.error(\"No WebGPU adapter found.\");\n            return;\n        }\n\n        this.device = await this.adapter.requestDevice();\n        console.log(\"WebGPU Device acquired:\", this.device);\n\n        this.context = this.canvas.getContext('webgpu');\n        const presentationFormat = navigator.gpu.getPreferredCanvasFormat();\n        this.context.configure({\n            device: this.device,\n            format: presentationFormat,\n            alphaMode: 'premultiplied',\n        });\n\n        this.uniformBuffer = this.device.createBuffer({\n            size: this.uniformData.byteLength,\n            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\n        });\n\n        await this.createPipeline(this.degree);\n        \n        this.isReady = true;\n        console.log(\"Renderer Ready!\");\n    }\n\n    async createPipeline(degree) {\n        this.degree = degree;\n        console.log(\"Compiling shader with degree override:\", degree);\n        if (!shaderCode) console.error(\"Shader code is empty!\");\n\n        const shaderModule = this.device.createShaderModule({\n            label: 'Curve Shader',\n            code: shaderCode\n        });\n\n        const presentationFormat = navigator.gpu.getPreferredCanvasFormat();\n\n        this.pipeline = this.device.createRenderPipeline({\n            layout: 'auto',\n            vertex: {\n                module: shaderModule,\n                entryPoint: 'vs_main',\n            },\n            fragment: {\n                module: shaderModule,\n                entryPoint: 'fs_main',\n                targets: [{ format: presentationFormat }],\n                constants: {\n                    degree: degree,\n                }\n            },\n            primitive: {\n                topology: 'triangle-strip',\n            }\n        });\n\n        this.bindGroup = this.device.createBindGroup({\n            layout: this.pipeline.getBindGroupLayout(0),\n            entries: [\n                {\n                    binding: 0,\n                    resource: { buffer: this.uniformBuffer }\n                }\n            ]\n        });\n    }\n\n    resize(width, height, scale) {\n        this.width = width;\n        this.height = height;\n        this.scale = scale;\n        this.uniformData[12] = width;\n        this.uniformData[13] = height;\n        this.uniformData[14] = scale;\n    }\n\n    dispose() {\n        if (this.uniformBuffer) this.uniformBuffer.destroy();\n    }\n\n    async draw(coeffs) {\n        if (!this.isReady || !this.device || !this.pipeline) return;\n\n        if (coeffs) {\n            this.uniformData.set(coeffs, 16);\n        }\n\n        this.device.pushErrorScope('validation');\n\n        this.device.queue.writeBuffer(this.uniformBuffer, 0, this.uniformData);\n\n        const commandEncoder = this.device.createCommandEncoder();\n        const textureView = this.context.getCurrentTexture().createView();\n\n        const renderPassDescriptor = {\n            colorAttachments: [\n                {\n                    view: textureView,\n                    clearValue: { r: 0, g: 0, b: 0, a: 0 },\n                    loadOp: 'clear',\n                    storeOp: 'store',\n                },\n            ],\n        };\n\n        const passEncoder = commandEncoder.beginRenderPass(renderPassDescriptor);\n        passEncoder.setPipeline(this.pipeline);\n        passEncoder.setBindGroup(0, this.bindGroup);\n        passEncoder.draw(4);\n        passEncoder.end();\n\n        this.device.queue.submit([commandEncoder.finish()]);\n        \n        const error = await this.device.popErrorScope();\n        if (error) {\n            console.error(\"WebGPU Validation Error:\", error.message);\n            this.isReady = false; \n        }\n    }\n\n    clear() {\n        if (!this.isReady || !this.device) return;\n        \n        const commandEncoder = this.device.createCommandEncoder();\n        const textureView = this.context.getCurrentTexture().createView();\n\n        const renderPassDescriptor = {\n            colorAttachments: [\n                {\n                    view: textureView,\n                    clearValue: { r: 0, g: 0, b: 0, a: 0 },\n                    loadOp: 'clear',\n                    storeOp: 'store',\n                },\n            ],\n        };\n\n        const passEncoder = commandEncoder.beginRenderPass(renderPassDescriptor);\n        passEncoder.end();\n        this.device.queue.submit([commandEncoder.finish()]);\n    }\n}\n",
    "import { Particle } from './Particle.js';\nimport { Solver } from './Solver.js';\nimport { Renderer } from './Renderer.js';\nimport { params, K_DIST, K_SPEED, K_FORCE, VIEW_SCALE_FACTOR } from './Params.js';\n\nexport const MIN_DEGREE = 1;\nexport const MAX_DEGREE = 6;\n\n/**\n * Orchestrates the entire simulation loop.\n * Manages the physics engine, mathematical solver, and WebGL renderer.\n * Decoupled from the DOM/UI.\n */\nexport class Simulation {\n    /**\n     * @param {HTMLCanvasElement} glCanvas - Canvas for WebGPU rendering.\n     * @param {HTMLCanvasElement} uiCanvas - Canvas for 2D particle rendering.\n     * @param {HTMLElement|ShadowRoot} container - The container element for sizing.\n     */\n    constructor(glCanvas, uiCanvas, container) {\n        this.glCanvas = glCanvas;\n        this.uiCanvas = uiCanvas;\n        this.container = container; // Host or ShadowRoot\n        \n        // WebGPU context is handled by Renderer\n        this.ctx = uiCanvas.getContext('2d');\n        \n        this.width = 0;\n        this.height = 0;\n        this.particles = [];\n        this.solver = null;\n        this.renderer = null;\n        this.currentDegree = 2;\n        this.pointCount = 0;\n        \n        this.needsUpdate = true; // Dirty flag for rendering\n\n        // Event Hooks\n        this.onDegreeChange = null;\n        this.onPauseChange = null;\n        this.onCurveVisibilityChange = null;\n\n        this.init();\n    }\n\n    showError(msg) {\n        const errorDiv = document.createElement('div');\n        errorDiv.style.position = 'absolute';\n        errorDiv.style.top = '50%';\n        errorDiv.style.left = '50%';\n        errorDiv.style.transform = 'translate(-50%, -50%)';\n        errorDiv.style.backgroundColor = 'rgba(220, 38, 38, 0.9)';\n        errorDiv.style.color = 'white';\n        errorDiv.style.padding = '20px';\n        errorDiv.style.borderRadius = '8px';\n        errorDiv.style.fontFamily = 'sans-serif';\n        errorDiv.style.zIndex = '1000';\n        errorDiv.style.textAlign = 'center';\n        errorDiv.innerHTML = `<h3>Initialization Error</h3><p>${msg}</p>`;\n        \n        if (this.container && this.container.appendChild) {\n            this.container.appendChild(errorDiv);\n        } else {\n            document.body.appendChild(errorDiv);\n        }\n        \n        const ui = this.container.getElementById ? this.container.getElementById('ui-container') : document.getElementById('ui-container');\n        if (ui) ui.style.display = 'none';\n    }\n\n    init() {\n        this.resize();\n        this.setDegree(this.currentDegree); \n        this.animate();\n    }\n\n    /**\n     * Handles window resize events.\n     * Updates canvas dimensions and recalculates physics/rendering scales.\n     */\n    resize() {\n        // Use container dimensions, falling back to window if not provided (standalone mode)\n        this.width = this.container.host ? this.container.host.clientWidth : (this.container.clientWidth || window.innerWidth);\n        this.height = this.container.host ? this.container.host.clientHeight : (this.container.clientHeight || window.innerHeight);\n        \n        this.glCanvas.width = this.width;\n        this.glCanvas.height = this.height;\n        this.uiCanvas.width = this.width;\n        this.uiCanvas.height = this.height;\n\n        // WebGPU context resizing is handled via configuration in Renderer\n        \n        this.updatePhysicsParams();\n\n        if (this.solver) this.solver.resize(this.width, this.height, params.scale);\n        if (this.renderer) this.renderer.resize(this.width, this.height, params.scale);\n        \n        this.needsUpdate = true;\n    }\n\n    /**\n     * Dynamically scales physics parameters based on screen size and particle density.\n     * Ensures consistent behavior across different resolutions.\n     */\n    updatePhysicsParams() {\n        if (!this.pointCount) return;\n        \n        const areaPerPoint = (this.width * this.height) / this.pointCount;\n        const baseScale = Math.sqrt(areaPerPoint);\n        \n        params.minDistance = baseScale * K_DIST;\n        params.maxSpeed = baseScale * K_SPEED;\n        params.maxForce = params.maxSpeed * K_FORCE;\n        params.scale = Math.min(this.width, this.height) / VIEW_SCALE_FACTOR;\n    }\n\n    /**\n     * Changes the degree of the algebraic curve.\n     * Re-initializes particles, solver, and renderer.\n     * @param {number} newDegree \n     */\n    setDegree(newDegree) {\n        if (newDegree < MIN_DEGREE || newDegree > MAX_DEGREE) return;\n        this.currentDegree = newDegree;\n        \n        const termCount = ((this.currentDegree + 1) * (this.currentDegree + 2)) / 2;\n        this.pointCount = termCount - 1;\n        \n        // Clean up old resources\n        if (this.renderer) {\n            this.renderer.dispose();\n        }\n\n        this.solver = new Solver(this.currentDegree);\n        this.renderer = new Renderer(this.glCanvas, this.currentDegree);\n        \n        this.updatePhysicsParams();\n        this.renderer.resize(this.width, this.height, params.scale);\n        \n        this.spawnParticles();\n        \n        this.needsUpdate = true;\n        if (this.onDegreeChange) this.onDegreeChange(this.currentDegree);\n    }\n\n    /**\n     * Respawns all particles at random locations within the valid area.\n     */\n    spawnParticles() {\n        this.particles = [];\n        const margin = params.minDistance;\n        for (let i = 0; i < this.pointCount; i++) {\n            let x = Math.random() * (this.width - margin * 2) + margin;\n            let y = Math.random() * (this.height - margin * 2) + margin;\n            this.particles.push(new Particle(x, y));\n        }\n        this.needsUpdate = true;\n    }\n\n    togglePause() {\n        params.isPaused = !params.isPaused;\n        this.needsUpdate = true;\n        if (this.onPauseChange) this.onPauseChange(params.isPaused);\n    }\n\n    cycleViewMode() {\n        params.viewMode = (params.viewMode + 1) % 3;\n        this.needsUpdate = true;\n        if (this.onViewModeChange) this.onViewModeChange(params.viewMode);\n    }\n\n    /**\n     * External trigger for UI interactions (like dragging) to force a redraw.\n     */\n    triggerUpdate() {\n        this.needsUpdate = true;\n    }\n\n    /**\n     * The main animation loop.\n     */\n    animate() {\n        // If not paused, we always update and draw\n        // If paused, we only draw if something marked the frame as dirty (needsUpdate)\n        const shouldRender = !params.isPaused || this.needsUpdate;\n\n        if (shouldRender) {\n            if (!params.isPaused) {\n                for (let p of this.particles) {\n                    p.update(this.particles, this.width, this.height, params);\n                }\n            }\n\n            this.ctx.clearRect(0, 0, this.width, this.height);\n            \n            // Draw Particles (Mode 0: Both, Mode 2: Particles Only)\n            if (params.viewMode === 0 || params.viewMode === 2) {\n                for (let p of this.particles) p.draw(this.ctx);\n            }\n\n            // Draw Curve (Mode 0: Both, Mode 1: Curve Only)\n            if (params.viewMode === 0 || params.viewMode === 1) {\n                const coeffs = this.solver.solve(this.particles);\n                if (coeffs && this.renderer) this.renderer.draw(coeffs);\n            } else {\n                if (this.renderer) this.renderer.clear();\n            }\n\n            this.needsUpdate = false;\n        }\n\n        requestAnimationFrame(() => this.animate());\n    }\n}",
    "// The styles are embedded directly to make the component self-contained\nconst styles = `\n    :host {\n        display: block;\n        position: relative;\n        width: 100%;\n        height: 100vh;\n        height: 100dvh; /* Dynamic viewport height for mobile */\n        overflow: hidden;\n        background-color: #0f172a;\n        font-family: sans-serif;\n    }\n    \n    canvas {\n        display: block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n    }\n    #glCanvas { z-index: 0; }\n    #uiCanvas { z-index: 1; }\n\n    #ui-container {\n        position: absolute;\n        bottom: calc(40px + env(safe-area-inset-bottom));\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 10;\n        color: white;\n        font-family: 'Segoe UI', sans-serif;\n        background: rgba(15, 23, 42, 0.8);\n        padding: 12px 24px;\n        border-radius: 12px;\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        backdrop-filter: blur(8px);\n        transition: opacity 0.5s ease;\n        user-select: none;\n        display: flex;\n        align-items: center;\n        gap: 24px;\n        max-width: 90%;\n        box-sizing: border-box;\n    }\n    #ui-container.hidden {\n        opacity: 0;\n        pointer-events: none;\n    }\n    .row {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        margin: 0;\n    }\n\n    button {\n        background: rgba(255, 255, 255, 0.1);\n        border: 1px solid rgba(255, 255, 255, 0.2);\n        color: #5eead4;\n        padding: 0 16px;\n        height: 36px;\n        border-radius: 6px;\n        cursor: pointer;\n        font-weight: 600;\n        transition: all 0.2s;\n        white-space: nowrap;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n    }\n    button svg {\n        width: 18px;\n        height: 18px;\n        stroke: currentColor; /* Inherit color for Lucide icons */\n    }\n    button:hover {\n        background: rgba(45, 212, 191, 0.2);\n        border-color: #5eead4;\n    }\n    button:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n        background: transparent;\n        border-color: rgba(255, 255, 255, 0.1);\n        color: rgba(255, 255, 255, 0.3);\n    }\n    \n    .degree-ctrl {\n        display: flex;\n        align-items: center;\n        gap: 10px;\n    }\n    #degree-val {\n        font-weight: bold;\n        min-width: 20px;\n        text-align: center;\n    }\n\n    /* Info Modal */\n    #info-modal {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.6);\n        backdrop-filter: blur(4px);\n        z-index: 100;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        opacity: 0;\n        pointer-events: none;\n        transition: opacity 0.3s ease;\n    }\n    #info-modal.visible {\n        opacity: 1;\n        pointer-events: all;\n    }\n    .modal-content {\n        background: rgba(15, 23, 42, 0.95);\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        border-radius: 16px;\n        padding: 24px;\n        max-width: 500px;\n        width: 90%;\n        max-height: 80dvh;\n        overflow-y: auto;\n        color: #e2e8f0;\n        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);\n        position: relative;\n    }\n    .modal-content h2 { margin-top: 0; color: #5eead4; font-size: 1.5rem; }\n    .modal-content h3 { color: #fbbf24; font-size: 1.1rem; margin-bottom: 8px; margin-top: 16px; }\n    .modal-content p, .modal-content ul { line-height: 1.5; margin-bottom: 12px; font-size: 0.95rem; }\n    .modal-content ul { padding-left: 20px; margin-top: 0; }\n    .modal-actions { display: flex; gap: 12px; justify-content: flex-end; margin-top: 24px; }\n    \n    .btn-primary { background: #2dd4bf; color: #0f172a; border: none; }\n    .btn-primary:hover { background: #5eead4; }\n    \n    #btn-close-modal {\n        position: absolute;\n        top: 16px; right: 16px;\n        background: transparent; border: none;\n        color: #94a3b8; font-size: 24px;\n        padding: 4px; cursor: pointer;\n    }\n    #btn-close-modal:hover { color: white; }\n\n    @media (max-width: 600px) {\n        #ui-container {\n            flex-direction: column;\n            gap: 12px;\n            padding: 16px;\n            width: max-content;\n            bottom: calc(20px + env(safe-area-inset-bottom));\n        }\n        .row { width: 100%; justify-content: center; }\n    }\n`;\n\nconst template = `\n    <style>${styles}</style>\n    <div id=\"ui-container\">\n        <div class=\"row\">\n            <span>Degree:</span>\n            <div class=\"degree-ctrl\">\n                <button id=\"btn-deg-down\" title=\"Arrow Down\">-</button>\n                <span id=\"degree-val\">2</span>\n                <button id=\"btn-deg-up\" title=\"Arrow Up\">+</button>\n            </div>\n        </div>\n        <div class=\"row\">\n            <button id=\"btn-pause\" style=\"flex: 1\" title=\"Space\">Pause</button>\n            <button id=\"btn-restart\" style=\"flex: 1\" title=\"R\">Restart</button>\n            <button id=\"btn-curve\" style=\"flex: 1\" title=\"C\">View: All</button>\n            <button id=\"btn-info\" title=\"F1\">\n                <!-- Inline SVG for Info Icon -->\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M12 16v-4\"/><path d=\"M12 8h.01\"/></svg>\n            </button>\n        </div>\n    </div>\n    \n    <!-- Info Modal -->\n    <div id=\"info-modal\">\n        <div class=\"modal-content\">\n            <button id=\"btn-close-modal\">&times;</button>\n            <h2>Dynamic Polynomials</h2>\n            \n            <h3>What is this?</h3>\n            <p>A visualization of high-degree algebraic curves (<em>f(x,y) = 0</em>).</p>\n\n            <h3>Why the points?</h3>\n            <p>Random equations usually produce empty screens. By forcing the curve to pass through these moving points, we guarantee interesting, visible shapes.</p>\n\n            <h3>How to play:</h3>\n            <ul>\n                <li><strong>Watch</strong> the swarm evolve the shape.</li>\n                <li><strong>Pause (Space)</strong> to drag points manually.</li>\n                <li><strong>Change Degree</strong> to see complex loops (deg 3+).</li>\n            </ul>\n\n            <div class=\"modal-actions\">\n                <a href=\"https://github.com/aviRon012/dynamic-algebraic-curve\" target=\"_blank\">\n                    <button class=\"btn-primary\" style=\"display: flex; align-items: center; gap: 8px;\">\n                        <!-- Inline SVG for GitHub Icon -->\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\"/><path d=\"M9 18c-4.51 2-5-2-7-2\"/></svg>\n                        View Code on GitHub\n                    </button>\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <canvas id=\"glCanvas\"></canvas>\n    <canvas id=\"uiCanvas\"></canvas>\n`;\n\nimport { Simulation, MIN_DEGREE, MAX_DEGREE } from './Simulation.js';\nimport { params } from './Params.js';\n\nexport class AlgebraicCurve extends HTMLElement {\n    constructor() {\n        super();\n        this.attachShadow({ mode: 'open' });\n        this.simulation = null;\n        this.resizeObserver = null;\n        \n        // Drag state\n        this.draggedParticle = null;\n        this.touchOffset = 0;\n        this.idleTimer = null;\n    }\n\n    static get observedAttributes() {\n        return ['degree', 'paused', 'view-mode'];\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (!this.simulation) return; // Wait for connection\n\n        switch (name) {\n            case 'degree':\n                const deg = parseInt(newValue);\n                if (!isNaN(deg) && deg !== this.simulation.currentDegree) {\n                    this.simulation.setDegree(deg);\n                }\n                break;\n            case 'paused':\n                const isPaused = newValue !== null; // Presence of attribute = true\n                if (isPaused !== params.isPaused) {\n                    this.simulation.togglePause(); // Toggle matches state if out of sync\n                    // Better: explicit setPause in simulation, but toggle works if we track state\n                    if (params.isPaused !== isPaused) this.simulation.togglePause(); \n                }\n                break;\n            case 'view-mode':\n                // map \"all\"->0, \"curve\"->1, \"points\"->2\n                const map = { 'all': 0, 'curve': 1, 'points': 2 };\n                const mode = map[newValue] !== undefined ? map[newValue] : parseInt(newValue);\n                if (!isNaN(mode) && mode !== params.viewMode) {\n                    params.viewMode = mode;\n                    this.simulation.triggerUpdate();\n                    this.updateUI(); // Ensure UI button text updates\n                }\n                break;\n        }\n    }\n\n    // Reflect properties to attributes\n    get degree() { return this.simulation ? this.simulation.currentDegree : 2; }\n    set degree(val) { this.setAttribute('degree', val); }\n\n    get paused() { return params.isPaused; }\n    set paused(val) { val ? this.setAttribute('paused', '') : this.removeAttribute('paused'); }\n\n    get viewMode() { return params.viewMode; }\n    set viewMode(val) { this.setAttribute('view-mode', val); }\n\n    connectedCallback() {\n        this.shadowRoot.innerHTML = template;\n        \n        const glCanvas = this.shadowRoot.getElementById('glCanvas');\n        const uiCanvas = this.shadowRoot.getElementById('uiCanvas');\n        \n        this.simulation = new Simulation(glCanvas, uiCanvas, this.shadowRoot);\n        \n        // Initial Sync from Attributes (if present on load)\n        if (this.hasAttribute('degree')) this.simulation.setDegree(parseInt(this.getAttribute('degree')));\n        if (this.hasAttribute('paused')) params.isPaused = true;\n        if (this.hasAttribute('view-mode')) {\n             const map = { 'all': 0, 'curve': 1, 'points': 2 };\n             const val = this.getAttribute('view-mode');\n             params.viewMode = map[val] !== undefined ? map[val] : parseInt(val);\n        }\n\n        // Hook into simulation state changes to update UI\n        this.simulation.onDegreeChange = (d) => {\n             this.updateUI();\n             // Optional: Reflect back to attribute? \n             // avoiding infinite loop by checking current val\n             // if (this.getAttribute('degree') != d) this.setAttribute('degree', d);\n        };\n        this.simulation.onPauseChange = (p) => {\n             this.updateUI();\n             if (p && !this.hasAttribute('paused')) this.setAttribute('paused', '');\n             if (!p && this.hasAttribute('paused')) this.removeAttribute('paused');\n        };\n        this.simulation.onViewModeChange = (m) => this.updateUI();\n\n        this.resizeObserver = new ResizeObserver(() => {\n            if (this.simulation) this.simulation.resize();\n        });\n        this.resizeObserver.observe(this);\n        \n        this.bindEvents();\n        this.initIdleTimer();\n        this.updateUI(); // Initial state\n    }\n\n    disconnectedCallback() {\n        if (this.resizeObserver) this.resizeObserver.disconnect();\n        // Remove global listeners if any (e.g. keydown on window)\n        // Note: We might want to keep window keydown for accessibility, \n        // but for strict component isolation, we should scope it or remove it.\n        // For now, I'll remove the window listeners added in bindEvents.\n        window.removeEventListener('keydown', this._handleKeydown);\n    }\n    \n    bindEvents() {\n        const $ = (id) => this.shadowRoot.getElementById(id);\n        const uiCanvas = $('uiCanvas');\n\n        // Buttons\n        $('btn-deg-up').onclick = () => this.simulation.setDegree(this.simulation.currentDegree + 1);\n        $('btn-deg-down').onclick = () => this.simulation.setDegree(this.simulation.currentDegree - 1);\n        $('btn-restart').onclick = () => this.simulation.spawnParticles();\n        $('btn-pause').onclick = () => this.simulation.togglePause();\n        $('btn-curve').onclick = () => this.simulation.cycleViewMode();\n\n        // Modal\n        const modal = $('info-modal');\n        $('btn-info').onclick = () => modal.classList.add('visible');\n        $('btn-close-modal').onclick = () => modal.classList.remove('visible');\n        modal.onclick = (e) => { if (e.target === modal) modal.classList.remove('visible'); };\n\n        // Interaction (Mouse/Touch) - Bound to Canvas, not Window (better for components)\n        // Mouse\n        uiCanvas.addEventListener('mousedown', (e) => {\n            this.touchOffset = 0;\n            this.handleDragStart(e.clientX, e.clientY);\n        });\n        window.addEventListener('mousemove', (e) => this.handleDragMove(e.clientX, e.clientY)); // Window for drag continuity\n        window.addEventListener('mouseup', () => this.draggedParticle = null);\n\n        // Touch\n        uiCanvas.addEventListener('touchstart', (e) => {\n            e.preventDefault();\n            this.touchOffset = -60;\n            this.handleDragStart(e.touches[0].clientX, e.touches[0].clientY);\n        }, { passive: false });\n        \n        uiCanvas.addEventListener('touchmove', (e) => {\n            e.preventDefault();\n            this.handleDragMove(e.touches[0].clientX, e.touches[0].clientY);\n        }, { passive: false });\n        \n        uiCanvas.addEventListener('touchend', () => this.draggedParticle = null);\n\n        // Idle Timer Resetters\n        const resetIdle = () => this.resetIdle();\n        uiCanvas.addEventListener('mousemove', resetIdle);\n        uiCanvas.addEventListener('mousedown', resetIdle);\n        uiCanvas.addEventListener('touchstart', resetIdle);\n\n        // Keyboard (Window level required for shortcuts)\n        this._handleKeydown = (e) => {\n            if (e.key === 'F1') { e.preventDefault(); modal.classList.add('visible'); }\n            if (e.key === ' ') { e.preventDefault(); this.simulation.togglePause(); }\n            if (e.key === 'r' || e.key === 'R') this.simulation.spawnParticles();\n            if (e.key === 'c' || e.key === 'C') this.simulation.cycleViewMode();\n            if (e.key === 'ArrowUp') { e.preventDefault(); this.simulation.setDegree(this.simulation.currentDegree + 1); }\n            if (e.key === 'ArrowDown') { e.preventDefault(); this.simulation.setDegree(this.simulation.currentDegree - 1); }\n            resetIdle();\n        };\n        window.addEventListener('keydown', this._handleKeydown);\n    }\n\n    updateUI() {\n        const $ = (id) => this.shadowRoot.getElementById(id);\n        const d = this.simulation.currentDegree;\n        \n        $('degree-val').textContent = d;\n        $('btn-deg-down').disabled = (d <= MIN_DEGREE);\n        $('btn-deg-up').disabled = (d >= MAX_DEGREE);\n        $('btn-pause').textContent = params.isPaused ? 'Resume' : 'Pause';\n        \n        const labels = ['View: All', 'View: Curve', 'View: Points'];\n        $('btn-curve').textContent = labels[params.viewMode];\n    }\n\n    handleDragStart(clientX, clientY) {\n        if (!params.isPaused) return;\n        if (params.viewMode === 1) return;\n\n        // Coordinates relative to viewport are fine since particle system uses full screen,\n        // BUT if component is small, we need clientX relative to canvas?\n        // Actually, Particle.pos is in \"Canvas Space\". \n        // If canvas is full screen, clientX == CanvasX.\n        // If canvas is small, we need to subtract canvas.getBoundingClientRect().\n        \n        const rect = this.shadowRoot.getElementById('uiCanvas').getBoundingClientRect();\n        const x = clientX - rect.left;\n        const y = clientY - rect.top;\n\n        for (let p of this.simulation.particles) {\n            const dx = p.pos.x - x;\n            const dy = p.pos.y - y;\n            if (dx*dx + dy*dy < 900) {\n                this.draggedParticle = p;\n                break;\n            }\n        }\n    }\n\n    handleDragMove(clientX, clientY) {\n        if (!this.draggedParticle) return;\n        if (!params.isPaused) { this.draggedParticle = null; return; }\n\n        const rect = this.shadowRoot.getElementById('uiCanvas').getBoundingClientRect();\n        const x = clientX - rect.left;\n        const y = clientY - rect.top + this.touchOffset;\n\n        this.draggedParticle.pos.x = x;\n        this.draggedParticle.pos.y = y;\n        this.draggedParticle.vel.set(0, 0);\n        this.simulation.triggerUpdate();\n    }\n\n    initIdleTimer() { this.resetIdle(); }\n    \n    resetIdle() {\n        const ui = this.shadowRoot.getElementById('ui-container');\n        ui.classList.remove('hidden');\n        this.style.cursor = 'default';\n        clearTimeout(this.idleTimer);\n        this.idleTimer = setTimeout(() => {\n            ui.classList.add('hidden');\n            this.style.cursor = 'none';\n        }, 3000);\n    }\n}\n\ncustomElements.define('algebraic-curve', AlgebraicCurve);\n"
  ],
  "mappings": "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",
  "debugId": "7101E691B18BC8CE64756E2164756E21",
  "names": []
}